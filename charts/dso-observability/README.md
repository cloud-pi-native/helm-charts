# dso-observability

A Helm chart for Kubernetes to deploy custom GrafanaDashboard and PrometheusRule

![Version: 0.1.8](https://img.shields.io/badge/Version-0.1.8-informational?style=flat-square) ![Type: application](https://img.shields.io/badge/Type-application-informational?style=flat-square) ![AppVersion: 0.0.1](https://img.shields.io/badge/AppVersion-0.0.1-informational?style=flat-square)

## Description

This chart only defines 2 functions, to be used in subcharts along with resources to be deployed :
- *.json files in `files/dashboards` will be deployed as `GrafanaDashboard`
- *.yaml.tpl files in `files/rules` will be deployed as `PrometheusRule`

### Usage

1- Create a `Chart.yaml` file referencing current Chart as dependency:
```
apiVersion: v2
name: custom-obs
type: application
version: 0.1.0
appVersion: "0.0.1"
dependencies:
  - name: dso-observability
    version: 0.1.8
    repository: https://cloud-pi-native.github.io/helm-charts
```

2- Create a file in your `template/` directory calling the two functions:
```yaml
{{- include "grafana-dashboards.dashboards" . -}}
{{- include "grafana-dashboards.rules" . -}}
```

3- Add json et tpl files in `files/dashboards` and `files/rules` directories.

4- Add in your `values.yaml` file the value corresponding to the `app` label of your grafana instance:
```yaml
global:
    tenantId: your-app
```

5- Your Chart is ready to use.

----------------------------------------------
Autogenerated from chart metadata using [helm-docs v1.14.2](https://github.com/norwoodj/helm-docs/releases/v1.14.2)
