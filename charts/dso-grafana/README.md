# dso-grafana

![Version: 1.4.0](https://img.shields.io/badge/Version-1.4.0-informational?style=flat-square) ![Type: application](https://img.shields.io/badge/Type-application-informational?style=flat-square)

This Helm chart deploy Grafana instances and default dashboards for each projects read from values file.

## Maintainers

| Name | Email | Url |
| ---- | ------ | --- |
| this-is-tobi | <thibault.colin@interieur.gouv.fr> | <https://this-is-tobi.com> |
| tcheksa62 | <r.ducamp@gmail.com> |  |

## Requirements

| Repository | Name | Version |
|------------|------|---------|
| oci://ghcr.io/grafana/helm-charts | grafana-operator | v5.10.0 |

## Values

| Key | Type | Default | Description |
|-----|------|---------|-------------|
| argocd.namespace | string | `"dso-argocd"` | Namespace to use for additional Applications |
| dashboards | list | `["k8s-logs.json","k8s-resources-namespace.json"]` | Select default dashboard creation among available json files |
| default | object | `{"name":"console"}` | Default instance to create (default mandatory project) |
| global | object | `{"projects":[]}` | Global list of projects. One Grafana instance is created for each item. This list is provided dynamically by the Console webapp. |
| grafana | object | `{"isOpenShift":false,"observatorium_url":"http://observatorium-api.svc:8080"}` | Grafana instances configuration |
| grafana.isOpenShift | bool | `false` | Enable specific OpenShift configuration |
| grafana.observatorium_url | string | `"http://observatorium-api.svc:8080"` | Url of Observatorium instance |
| grafanaNamespace | string | `"dso-grafana"` | Namespace to use for instances, dashboards and datasources creation |
| oauth.aud | string | `"grafana"` | Audience value of the token |
| oauth.enabled | bool | `true` | OAuth authentication enabling |
| oauth.id | string | `"grafana"` | Id of the OAuth client configuration |
| oauth.scopes | string | `"profile, email, openid, offline_access"` | Scopes of the jwt token |
| oauth.secret | string | `""` | Shared secret to autorize OAuth usage |
| oauth.url | string | `"https://grafana.example.com/realms/dso"` | URL of the Idp provider to use |
| projects | list | `[{"envs":{"hprod":{"groups":["Editors","Viewers"]},"prod":{"groups":["Editors","Viewers"]}},"projectName":"console","projectRepository":{"path":".","url":"https://gitlab.com/project/infra-observability.git"}}]` | Default list of sample projects. One Grafana instance is created for each item. This is list is overriden by the global.projects list if provided. |
| server | object | `{"certManager":{"enabled":true},"ingressClassName":"nginx","url":"grafana.example.com"}` | Ingress server configuration |
| server.certManager | object | `{"enabled":true}` | Enabling cert manager configuration |
| server.ingressClassName | string | `"nginx"` | Class name of the ingress controller to use |
| server.url | string | `"grafana.example.com"` | Url of the ingress frontend. The instance is reachable with a /<name> context. |

----------------------------------------------
Autogenerated from chart metadata using [helm-docs v1.14.2](https://github.com/norwoodj/helm-docs/releases/v1.14.2)
